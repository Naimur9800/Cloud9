#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mt-plat/battery_meter.h>

/* ============================================================*/
/* define*/
/* ============================================================*/
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R	16900
#define RBAT_PULL_DOWN_R	27000
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R	61900
#define RBAT_PULL_DOWN_R	100000
#endif
#define RBAT_PULL_UP_VOLT	1800



/* ============================================================*/
/* ENUM*/
/* ============================================================*/

/* ============================================================*/
/* structure*/
/* ============================================================*/

/* ============================================================*/
/* typedef*/
/* ============================================================*/
typedef struct _BATTERY_PROFILE_STRUCT {
	signed int percentage;
	signed int voltage;
} BATTERY_PROFILE_STRUCT, *BATTERY_PROFILE_STRUCT_P;

typedef struct _R_PROFILE_STRUCT {
	signed int resistance; /* Ohm*/
	signed int voltage;
} R_PROFILE_STRUCT, *R_PROFILE_STRUCT_P;

typedef enum {
	T1_0C,
	T2_25C,
	T3_50C
} PROFILE_TEMPERATURE;

/* ============================================================*/
/* External Variables*/
/* ============================================================*/

/* ============================================================*/
/* External function*/
/* ============================================================*/

/* ============================================================*/
/* <DOD, Battery_Voltage> Table*/
/* ============================================================*/
#if (BAT_NTC_10 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-30,127476},
        {-25,96862},
        {-20,74354},
        {-15,57626},
        {-10,45068},
        { -5,35548},
        {  0,28267},
        {  5,22650},
        { 10,18280},
        { 15,14855},
        { 20,12151},
        { 25,10000},
        { 30,8279},
        { 35,6892},
        { 40,5768},
        { 45,4852},
        { 50,4101},
        { 55,3483},
        { 60,2970},
        { 65,2544},
        { 70,2188},
        { 75,1889},
        { 80,1637}
};
#endif

#if (BAT_NTC_47 == 1)
	BATT_TEMPERATURE Batt_Temperature_Table[] = {
		{-20, 483954},
		{-15, 360850},
		{-10, 271697},
		{ -5, 206463},
		{  0, 158214},
		{  5, 122259},
		{ 10, 95227},
		{ 15, 74730},
		{ 20, 59065},
		{ 25, 47000},
		{ 30, 37643},
		{ 35, 30334},
		{ 40, 24591},
		{ 45, 20048},
		{ 50, 16433},
		{ 55, 13539},
		{ 60, 11210}
	};
#endif

/* T0 -10C*/
BATTERY_PROFILE_STRUCT battery_profile_t0[] =
{
    { 0 , 4313 },
    { 2 , 4294 },
    { 4 , 4276 },
    { 6 , 4258 },
    { 8 , 4241 },
    { 9 , 4224 },
    { 11 , 4207 },
    { 13 , 4191 },
    { 15 , 4175 },
    { 17 , 4159 },
    { 19 , 4144 },
    { 21 , 4127 },
    { 23 , 4111 },
    { 24 , 4095 },
    { 26 , 4082 },
    { 28 , 4072 },
    { 30 , 4055 },
    { 32 , 4030 },
    { 34 , 4003 },
    { 36 , 3980 },
    { 38 , 3963 },
    { 39 , 3950 },
    { 41 , 3940 },
    { 43 , 3932 },
    { 45 , 3923 },
    { 47 , 3913 },
    { 49 , 3902 },
    { 51 , 3892 },
    { 53 , 3882 },
    { 54 , 3873 },
    { 56 , 3864 },
    { 58 , 3855 },
    { 60 , 3847 },
    { 62 , 3839 },
    { 64 , 3832 },
    { 66 , 3825 },
    { 67 , 3819 },
    { 69 , 3813 },
    { 71 , 3807 },
    { 73 , 3802 },
    { 75 , 3797 },
    { 77 , 3792 },
    { 79 , 3788 },
    { 81 , 3784 },
    { 82 , 3781 },
    { 84 , 3779 },
    { 86 , 3776 },
    { 88 , 3773 },
    { 90 , 3770 },
    { 92 , 3767 },
    { 94 , 3764 },
    { 96 , 3760 },
    { 97 , 3757 },
    { 99 , 3755 },
    { 100 , 3752 },
    { 102 , 3750 },
    { 103 , 3769 },
    { 104 , 3754 },
    { 106 , 3742 },
    { 107 , 3736 },
    { 109 , 3732 },
    { 110 , 3727 },
    { 111 , 3723 },
    { 112 , 3719 },
    { 112 , 3716 },
    { 113 , 3712 },
    { 114 , 3710 },
    { 114 , 3708 },
    { 115 , 3706 },
    { 116 , 3705 },
    { 116 , 3704 }
};

/* T1 0C */
BATTERY_PROFILE_STRUCT battery_profile_t1[] =
{
    { 0 , 4305 },
    { 1 , 4282 },
    { 4 , 4262 },
    { 5 , 4244 },
    { 7 , 4227 },
    { 9 , 4210 },
    { 11 , 4194 },
    { 13 , 4178 },
    { 15 , 4162 },
    { 16 , 4146 },
    { 18 , 4130 },
    { 20 , 4114 },
    { 22 , 4099 },
    { 24 , 4087 },
    { 25 , 4077 },
    { 27 , 4064 },
    { 29 , 4039 },
    { 31 , 4008 },
    { 33 , 3984 },
    { 35 , 3967 },
    { 36 , 3953 },
    { 38 , 3943 },
    { 40 , 3935 },
    { 42 , 3927 },
    { 44 , 3917 },
    { 45 , 3907 },
    { 47 , 3896 },
    { 49 , 3886 },
    { 51 , 3877 },
    { 53 , 3867 },
    { 55 , 3858 },
    { 56 , 3851 },
    { 58 , 3843 },
    { 60 , 3836 },
    { 62 , 3829 },
    { 64 , 3823 },
    { 65 , 3816 },
    { 67 , 3811 },
    { 69 , 3805 },
    { 71 , 3800 },
    { 73 , 3795 },
    { 74 , 3791 },
    { 76 , 3787 },
    { 78 , 3783 },
    { 80 , 3780 },
    { 82 , 3778 },
    { 84 , 3775 },
    { 85 , 3773 },
    { 87 , 3770 },
    { 89 , 3766 },
    { 91 , 3763 },
    { 93 , 3759 },
    { 94 , 3755 },
    { 96 , 3751 },
    { 98 , 3746 },
    { 100 , 3740 },
    { 102 , 3734 },
    { 104 , 3727 },
    { 105 , 3720 },
    { 107 , 3713 },
    { 109 , 3708 },
    { 111 , 3705 },
    { 112 , 3702 },
    { 113 , 3700 },
    { 114 , 3698 },
    { 115 , 3696 },
    { 115 , 3694 },
    { 116 , 3692 },
    { 117 , 3691 },
    { 117 , 3689 },
    { 118 , 3686 }
};

/* T2 25C*/
BATTERY_PROFILE_STRUCT battery_profile_t2[] = 
{
    { 0 , 4320  },
    { 1 , 4302  },
    { 3 , 4277  },
    { 4 , 4252  },
    { 6 , 4227  },
    { 7 , 4202  },
    { 9 , 4177  },
    { 10 , 4151  },
    { 12 , 4136  },
    { 13 , 4121  },
    { 14 , 4105  },
    { 16 , 4090  },
    { 17 , 4075  },
    { 19 , 4062 },
    { 20 , 4049 },
    { 22 , 4032 },
    { 23 , 4062 },
    { 24 , 4049 },
    { 26 , 4032 },
    { 27 , 4016 },
    { 29 , 4003 },
    { 30 , 3993 },
    { 32 , 3982 },
    { 33 , 3970 },
    { 35 , 3959 },
    { 36 , 3947 },
    { 37 , 3936 },
    { 39 , 3922 },
    { 40 , 3907 },
    { 42 , 3891 },
    { 43 , 3876 },
    { 45 , 3865 },
    { 46 , 3855 },
    { 48 , 3846 },
    { 49 , 3839 },
    { 50 , 3832 },
    { 52 , 3825 },
    { 53 , 3819 },
    { 55 , 3813 },
    { 56 , 3808 },
    { 58 , 3803 },
    { 59 , 3799 },
    { 61 , 3794 },
    { 62 , 3790 },
    { 63 , 3787 },
    { 65 , 3783 },
    { 66 , 3780 },
    { 68 , 3777 },
    { 69 , 3773 },
    { 71 , 3768 },
    { 72 , 3764 },
    { 73 , 3759 },
    { 75 , 3754 },
    { 76 , 3748 },
    { 78 , 3743 },
    { 79 , 3738 },
    { 81 , 3733 },
    { 82 , 3725 },
    { 84 , 3717 },
    { 85 , 3710 },
    { 86 , 3699 },
    { 88 , 3690 },
    { 89 , 3688 },
    { 91 , 3686 },
    { 92 , 3684 },
    { 94 , 3677 },
    { 95 , 3640 },
    { 97 , 3571 },
    { 98 , 3465 },
    { 99 , 3349 },
    { 100 , 3314 }
};

/* T3 50C*/
BATTERY_PROFILE_STRUCT battery_profile_t3[] =
{
    { 0  , 4312  },
    { 1  , 4290  },
    { 3  , 4263  },
    { 4  , 4235  },
    { 6  , 4208  },
    { 7  , 4181  },
    { 9  , 4154  },
    { 10  , 4134  },
    { 12  , 4119  },
    { 13  , 4104  },
    { 15  , 4089  },
    { 16  , 4074  },
    { 17  , 4060  },
    { 19 , 4047 },
    { 20 , 4033 },
    { 22 , 4019 },
    { 23 , 4047 },
    { 25 , 4033 },
    { 26 , 4019 },
    { 28 , 4006 },
    { 29 , 3994 },
    { 31 , 3982 },
    { 32 , 3971 },
    { 33 , 3959 },
    { 35 , 3948 },
    { 36 , 3937 },
    { 38 , 3925 },
    { 39 , 3912 },
    { 41 , 3898 },
    { 42 , 3884 },
    { 44 , 3870 },
    { 45 , 3859 },
    { 46 , 3850 },
    { 48 , 3841 },
    { 49 , 3834 },
    { 51 , 3827 },
    { 52 , 3821 },
    { 54 , 3815 },
    { 55 , 3809 },
    { 57 , 3804 },
    { 58 , 3799 },
    { 60 , 3795 },
    { 61 , 3790 },
    { 62 , 3787 },
    { 64 , 3783 },
    { 65 , 3780 },
    { 67 , 3776 },
    { 68 , 3772 },
    { 70 , 3766 },
    { 71 , 3756 },
    { 73 , 3748 },
    { 74 , 3743 },
    { 76 , 3737 },
    { 77 , 3732 },
    { 78 , 3728 },
    { 80 , 3723 },
    { 81 , 3718 },
    { 83 , 3710 },
    { 84 , 3702 },
    { 86 , 3695 },
    { 87 , 3685 },
    { 89 , 3678 },
    { 90 , 3677 },
    { 92 , 3675 },
    { 93 , 3671 },
    { 95 , 3650 },
    { 96 , 3592 },
    { 97 , 3507 },
    { 99 , 3370 },
    { 100 , 3299 },
    { 101 , 3283 }
};

/* battery profile for actual temperature. The size should be the same as T1, T2 and T3*/
BATTERY_PROFILE_STRUCT battery_profile_temperature[] =
{
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0}
};

/* ============================================================*/
/* <Rbat, Battery_Voltage> Table*/
/* ============================================================*/
/* T0 -10C*/
R_PROFILE_STRUCT r_profile_t0[] =
{
    { 935  , 4313 },
    { 935  , 4294 },
    { 938  , 4276 },
    { 930  , 4258 },
    { 923  , 4241 },
    { 915  , 4224 },
    { 905  , 4207 },
    { 900  , 4191 },
    { 890  , 4175 },
    { 883  , 4159 },
    { 878  , 4144 },
    { 805  , 4127 },
    { 860  , 4111 },
    { 863  , 4095 },
    { 865  , 4082 },
    { 873  , 4072 },
    { 868  , 4055 },
    { 840  , 4030 },
    { 823  , 4003 },
    { 823  , 3980 },
    { 833  , 3963 },
    { 843  , 3950 },
    { 853  , 3940 },
    { 865  , 3932 },
    { 868  , 3923 },
    { 868  , 3913 },
    { 863  , 3902 },
    { 865  , 3892 },
    { 870  , 3882 },
    { 878  , 3873 },
    { 888  , 3864 },
    { 898  , 3855 },
    { 913  , 3847 },
    { 928  , 3839 },
    { 935  , 3832 },
    { 953  , 3825 },
    { 973  , 3819 },
    { 993  , 3813 },
    { 1010  , 3807 },
    { 1028  , 3802 },
    { 1043  , 3797 },
    { 1060  , 3792 },
    { 1085  , 3788 },
    { 1108  , 3784 },
    { 1085  , 3781 },
    { 1148  , 3779 },
    { 1175  , 3776 },
    { 1223  , 3773 },
    { 1253  , 3770 },
    { 1285  , 3767 },
    { 1320  , 3764 },
    { 1348  , 3760 },
    { 1383  , 3757 },
    { 1388  , 3755 },
    { 1383  , 3752 },
    { 1375  , 3750 },
    { 1425  , 3769 },
    { 1385  , 3754 },
    { 1163  , 3742 },
    { 1313  , 3736 },
    { 1330  , 3732 },
    { 1320  , 3727 },
    { 1308  , 3723 },
    { 1298  , 3719 },
    { 1290  , 3716 },
    { 1283  , 3712 },
    { 1275  , 3710 },
    { 1273  , 3708 },
    { 1268  , 3706 },
    { 1263  , 3705 },
    { 1263  , 3704 }
};

/* T1 0C*/
R_PROFILE_STRUCT r_profile_t1[] = 
{
    { 332  , 4305 },
    { 332  , 4282 },
    { 328  , 4262 },
    { 325  , 4244 },
    { 322  , 4227 },
    { 318  , 4210 },
    { 315  , 4194 },
    { 312  , 4178 },
    { 308  , 4162 },
    { 305  , 4146 },
    { 303  , 4130 },
    { 299  , 4114 },
    { 297  , 4099 },
    { 295  , 4087 },
    { 296  , 4077 },
    { 296  , 4064 },
    { 289  , 4039 },
    { 279  , 4008 },
    { 273  , 3984 },
    { 270  , 3967 },
    { 267  , 3953 },
    { 267  , 3943 },
    { 267  , 3935 },
    { 267  , 3927 },
    { 264  , 3917 },
    { 263  , 3907 },
    { 260  , 3896 },
    { 259  , 3886 },
    { 260  , 3877 },
    { 259  , 3867 },
    { 259  , 3858 },
    { 261  , 3851 },
    { 261  , 3843 },
    { 263  , 3836 },
    { 263  , 3829 },
    { 265  , 3823 },
    { 263  , 3816 },
    { 267  , 3811 },
    { 269  , 3805 },
    { 270  , 3800 },
    { 270  , 3795 },
    { 271  , 3791 },
    { 273  , 3787 },
    { 275  , 3783 },
    { 277  , 3780 },
    { 280  , 3778 },
    { 284  , 3775 },
    { 287  , 3773 },
    { 291  , 3770 },
    { 295  , 3766 },
    { 299  , 3763 },
    { 305  , 3759 },
    { 311  , 3755 },
    { 319  , 3751 },
    { 327  , 3746 },
    { 337  , 3740 },
    { 348  , 3734 },
    { 362  , 3727 },
    { 381  , 3720 },
    { 403  , 3713 },
    { 437  , 3708 },
    { 442  , 3705 },
    { 440  , 3702 },
    { 438  , 3700 },
    { 436  , 3698 },
    { 435  , 3696 },
    { 433  , 3694 },
    { 431  , 3692 },
    { 431  , 3691 },
    { 429  , 3689 },
    { 427  , 3686 }
};

/* T2 25C*/
R_PROFILE_STRUCT r_profile_t2[] = 
{
    { 151  , 4320  },
    { 151  , 4302  },
    { 151  , 4277  },
    { 154  , 4252  },
    { 151  , 4227  },
    { 151  , 4202  },
    { 151  , 4177  },
    { 157  , 4151  },
    { 157  , 4136  },
    { 160  , 4121  },
    { 160  , 4105  },
    { 162  , 4090  },
    { 162  , 4075  },
    { 171  , 4062 },
    { 171  , 4049 },
    { 173  , 4032 },
    { 176  , 4062 },
    { 179  , 4049 },
    { 182  , 4032 },
    { 179  , 4016 },
    { 184  , 4003 },
    { 187  , 3993 },
    { 190  , 3982 },
    { 193  , 3970 },
    { 193  , 3959 },
    { 198  , 3947 },
    { 198  , 3936 },
    { 201  , 3922 },
    { 195  , 3907 },
    { 184  , 3891 },
    { 173  , 3876 },
    { 160  , 3865 },
    { 157  , 3855 },
    { 154  , 3846 },
    { 154  , 3839 },
    { 154  , 3832 },
    { 154  , 3825 },
    { 154  , 3819 },
    { 154  , 3813 },
    { 154  , 3808 },
    { 157  , 3803 },
    { 160  , 3799 },
    { 162  , 3794 },
    { 162  , 3790 },
    { 168  , 3787 },
    { 171  , 3783 },
    { 173  , 3780 },
    { 176  , 3777 },
    { 176  , 3773 },
    { 173  , 3768 },
    { 168  , 3764 },
    { 168  , 3759 },
    { 165  , 3754 },
    { 165  , 3748 },
    { 162  , 3743 },
    { 162  , 3738 },
    { 162  , 3733 },
    { 165  , 3725 },
    { 165  , 3717 },
    { 168  , 3710 },
    { 176  , 3699 },
    { 176  , 3690 },
    { 173  , 3688 },
    { 182  , 3686 },
    { 190  , 3684 },
    { 204  , 3677 },
    { 217  , 3640 },
    { 217  , 3571 },
    { 248  , 3465 },
    { 314  , 3349 },
    { 317  , 3314 }
};

/* T3 50C*/
R_PROFILE_STRUCT r_profile_t3[] = 
{
    { 176  , 4312  },
    { 176  , 4290  },
    { 173  , 4263  },
    { 173  , 4235  },
    { 171  , 4208  },
    { 171  , 4181  },
    { 173  , 4154  },
    { 173  , 4134  },
    { 173  , 4119  },
    { 176  , 4104  },
    { 176  , 4089  },
    { 173  , 4074  },
    { 176  , 4060  },
    { 179  , 4047 },
    { 179  , 4033 },
    { 179  , 4019 },
    { 182  , 4047 },
    { 184  , 4033 },
    { 187  , 4019 },
    { 187  , 4006 },
    { 190  , 3994 },
    { 190  , 3982 },
    { 193  , 3971 },
    { 198  , 3959 },
    { 198  , 3948 },
    { 204  , 3937 },
    { 209  , 3925 },
    { 209  , 3912 },
    { 206  , 3898 },
    { 198  , 3884 },
    { 190  , 3870 },
    { 182  , 3859 },
    { 179  , 3850 },
    { 179  , 3841 },
    { 176  , 3834 },
    { 176  , 3827 },
    { 176  , 3821 },
    { 179  , 3815 },
    { 179  , 3809 },
    { 179  , 3804 },
    { 179  , 3799 },
    { 182  , 3795 },
    { 184  , 3790 },
    { 184  , 3787 },
    { 187  , 3783 },
    { 190  , 3780 },
    { 193  , 3776 },
    { 193  , 3772 },
    { 193  , 3766 },
    { 190  , 3756 },
    { 182  , 3748 },
    { 179  , 3743 },
    { 182  , 3737 },
    { 179  , 3732 },
    { 179  , 3728 },
    { 184  , 3723 },
    { 182  , 3718 },
    { 184  , 3710 },
    { 182  , 3702 },
    { 182  , 3695 },
    { 184  , 3685 },
    { 184  , 3678 },
    { 182  , 3677 },
    { 187  , 3675 },
    { 193  , 3671 },
    { 198  , 3650 },
    { 195  , 3592 },
    { 204  , 3507 },
    { 223  , 3370 },
    { 278  , 3299 },
    { 278  , 3283 }
};

/* r-table profile for actual temperature. The size should be the same as T1, T2 and T3*/
R_PROFILE_STRUCT r_profile_temperature[] = 
{
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0},
    {0, 0}
};

/* ============================================================*/
/* function prototype*/
/* ============================================================*/
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUCT_P fgauge_get_profile(unsigned int temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUCT_P fgauge_get_profile_r_table(unsigned int temperature);

#endif

